(this.webpackJsonppickomino=this.webpackJsonppickomino||[]).push([[0],{13:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var n=s(8),r=s.n(n),i=(s(13),s(3)),a=s(4),c=s(6),o=s(5),l=s(1),d=s.n(l),u=s(0);var h=function(e){return Object(u.jsxs)("button",{class:"domino "+(e.current_score===e.value?"domino_selectable ":""),onClick:e.handleDominoClick,children:[e.value," (",E(e.value),")"]})},p=function(e){return Object(u.jsx)("button",{class:"dice dice"+e.value+" "+(e.selected?"dice_selected ":"")+(e.selectable?"":"dice_not_selectable"),onClick:e.handleDiceClick})};var f=s(2),b=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){var e,t=this,s=0,n=Object(f.a)(this.props.dominos);try{for(n.s();!(e=n.n()).done;){s+=E(e.value)}}catch(r){n.e(r)}finally{n.f()}return Object(u.jsxs)("div",{class:"player "+(this.props.current_player?"player_active ":""),children:[this.props.name," - ",s,this.props.dominos.map((function(e,s){return Object(u.jsx)(h,{value:e,handleDominoClick:t.props.handleDominoClick,current_score:t.props.current_player||0!==s?0:t.props.current_score})}))]})}}]),s}(d.a.Component),m=b;function v(){return Math.floor(6*Math.random())+1}function j(e){for(var t=Array(8),s=0;s<8;s++)t[s]=v();return e.rdices=t,e.kdices=Array(0),e.selected=null,e.kept=!1,e.current_player=(e.current_player+1)%e.players_number,e}function y(e){var t=this;if(this.state.kept){var s=this.state;if(e===g(this.state.kdices,this.state.dominos)){var n=s.dominos.indexOf(e);s.dominos.splice(n,1),s.players[this.state.current_player].dominos.unshift(e),s=j(s),this.setState(s)}this.state.players.forEach((function(n,r){r!==t.state.current_player&&e===n.dominos[0]&&e===A(t.state.kdices)&&(s.players[r].dominos.splice(0,1),s.players[t.state.current_player].dominos.unshift(e),s=j(s),t.setState(s))}))}}function k(){var e=this.state,t=0;0!==e.players[this.state.current_player].dominos.length&&(t=e.players[this.state.current_player].dominos[0],e.players[this.state.current_player].dominos.splice(0,1),e.dominos.push(t),e.dominos.sort()),t!==e.dominos[e.dominos.length-1]&&e.dominos.pop(),e=j(e),this.setState(e)}function O(e){if(D(e,this.state.kdices)){var t=this.state;e===this.state.selected?t.selected=null:t.selected=e,this.setState(t)}}function _(){if(null!=this.state.selected){for(var e=0;e<this.state.kdices.length;e++)if(this.state.selected===this.state.kdices[e])return;for(var t=this.state.kdices.slice(),s=[],n=0;n<this.state.rdices.length;n++)this.state.rdices[n]===this.state.selected?t.push(this.state.rdices[n]):s.push(this.state.rdices[n]);var r=this.state;r.rdices=s,r.kdices=t,r.selected=null,r.kept=!0,this.setState(r)}}function x(){for(var e=this.state.kdices.slice(),t=[],s=0;s<this.state.rdices.length;s++)t.push(v());this.setState({rdices:t,kdices:e,selected:null,kept:!1})}function C(e){var t,s=0,n=Object(f.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;s+=r<5?r:5}}catch(i){n.e(i)}finally{n.f()}return s}function A(e){var t,s=0,n=!1,r=Object(f.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;s+=i<5?i:5,i>5&&(n=!0)}}catch(a){r.e(a)}finally{r.f()}return n?s:0}function g(e,t){for(var s=A(e),n=0,r=0;r<t.length;r++)t[r]<=s&&(n=t[r]);return n}function D(e,t){var s,n=Object(f.a)(t);try{for(n.s();!(s=n.n()).done;){if(s.value===e)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}var S=[21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],w=[1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4];function E(e){return e<21||e>36?0:w[e-21]}var J=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(e){var n;Object(i.a)(this,s),n=t.call(this,e);for(var r=Array(8),a=0;a<8;a++)r[a]=v();return n.state={rdices:r,kdices:Array(0),selected:null,kept:!1,dominos:S,players_number:2,current_player:0,players:[{name:"Florian",dominos:Array(0)},{name:"Aur\xe9lie",dominos:Array(0)}]},n}return Object(a.a)(s,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{class:"board",children:[Object(u.jsx)("div",{class:"domino_container",children:this.state.dominos.map((function(t){return Object(u.jsx)(h,{value:t,handleDominoClick:y.bind(e,t),current_score:e.state.kept?g(e.state.kdices,e.state.dominos):0})}))}),Object(u.jsx)("div",{class:"dice_container",children:this.state.rdices.map((function(t){return Object(u.jsx)(p,{value:t,handleDiceClick:O.bind(e,t),selected:t===e.state.selected,selectable:D(t,e.state.kdices)&&!e.state.kept})}))}),Object(u.jsx)("div",{class:"dice_container",children:this.state.kdices.map((function(e){return Object(u.jsx)(p,{value:e,selectable:!1})}))}),Object(u.jsxs)("div",{class:"cmd_container",children:[Object(u.jsx)("button",{disabled:this.state.kept,onClick:_.bind(this),children:"Garder"}),Object(u.jsx)("button",{disabled:!this.state.kept,onClick:x.bind(this),children:"Relancer"}),Object(u.jsx)("button",{onClick:k.bind(this),children:"Abandonner"}),"Total : ",C(this.state.kdices)]}),Object(u.jsx)("div",{class:"players_container",children:this.state.players.map((function(t,s){return Object(u.jsx)(m,{name:t.name,dominos:t.dominos,handleDominoClick:y.bind(e,t.dominos[0]),current_player:s===e.state.current_player,current_score:e.state.kept?A(e.state.kdices):0})}))})]})}}]),s}(d.a.Component);r.a.render(Object(u.jsx)(J,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2261b49e.chunk.js.map